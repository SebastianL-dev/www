---
import { motion } from 'motion/react'
import { getTitleAnimation } from '../animations'

const {
  class: className,
  isPrimary,
  isAlert,
  isBordered,
  href,
  id,
  extra,
} = Astro.props
---

{
  href ? (
    <motion.a
      className="transition-bg h-fit flex items-center justify-center gap-2 rounded-full border-2 border-dark bg-dark p-2 text-sm text-paper shadow-sm hover:bg-paper hover:text-dark hover:duration-200 md:px-4"
      client:load
      {...getTitleAnimation(0.2)}
      id={id}
      {...extra}
      href={href}
      class:list={[
        'transition-bg flex items-center justify-center gap-2 rounded-full px-6 py-2 transition-transform duration-200',
        className,
        isPrimary
          ? 'border-2 border-dark bg-dark text-paper hover:bg-paper hover:text-dark'
          : isAlert
            ? 'bg-red-300 text-dark'
            : !isBordered
              ? 'border-2 border-dark hover:bg-dark hover:text-paper'
              : '!transition-bg border-2 border-dark hover:bg-dark hover:text-paper hover:shadow-sm',
      ]}
    >
      <slot />
    </motion.a>
  ) : (
    <motion.button
      className="transition-bg h-fit flex items-center justify-center gap-2 rounded-full border-2 border-dark bg-dark p-2 text-sm text-paper shadow-sm hover:bg-paper hover:text-dark hover:duration-200 md:px-4"
      client:load
      {...getTitleAnimation(0.2)}
      id={id}
      {...extra}
      class:list={[
        'flex items-center justify-center gap-2 rounded-full px-6 py-2 transition-transform duration-200',
        className,
        isPrimary
          ? 'bg-dark text-paper'
          : isAlert
            ? 'bg-red-300 text-dark'
            : !isBordered
              ? 'border-2 border-dark hover:bg-dark hover:text-paper'
              : '!transition-bg border-2 border-dark hover:bg-dark hover:text-paper hover:shadow-sm',
      ]}
    >
      <slot />
    </motion.button>
  )
}
<style>
  button,
  a {
    font-size: 0.9rem;

    &[disabled] {
      cursor: not-allowed;
      opacity: 0.5;
    }
  }
</style>
